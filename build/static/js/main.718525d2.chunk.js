(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,function(e,t,a){e.exports=a(26)},,,,,,function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(10),c=a.n(s),i=(a(17),a(2)),o=a.n(i),l=a(8),u=a(3),h=a(4),p=a(6),m=a(5),d=a(7),f=a(1),v=(a(20),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={searchBarTerm:""},a.search=a.search.bind(Object(f.a)(Object(f.a)(a))),a.handleTermChange=a.handleTermChange.bind(Object(f.a)(Object(f.a)(a))),a}return Object(d.a)(t,e),Object(h.a)(t,[{key:"search",value:function(){this.props.onSearch(this.state.searchBarTerm)}},{key:"handleTermChange",value:function(e){var t=e.target.value;this.setState({searchBarTerm:t})}},{key:"render",value:function(){return r.a.createElement("div",{className:"SearchBar"},r.a.createElement("input",{onChange:this.handleTermChange,placeholder:"Enter A Song, Album, or Artist"}),r.a.createElement("a",{onClick:this.search},"SEARCH"))}}]),t}(r.a.Component)),k=(a(21),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).addTrack=a.addTrack.bind(Object(f.a)(Object(f.a)(a))),a.removeTrack=a.removeTrack.bind(Object(f.a)(Object(f.a)(a))),a}return Object(d.a)(t,e),Object(h.a)(t,[{key:"renderAction",value:function(){var e=this.props.isRemoval?"-":"+",t=this.props.isRemoval?this.removeTrack:this.addTrack;return r.a.createElement("a",{className:"Track-action",onClick:t},e)}},{key:"addTrack",value:function(){this.props.onAdd(this.props.track)}},{key:"removeTrack",value:function(){this.props.onRemove(this.props.track)}},{key:"render",value:function(){return r.a.createElement("div",{className:"Track"},r.a.createElement("div",{className:"Track-information"},r.a.createElement("h3",null,this.props.track.name),r.a.createElement("p",null,this.props.track.artist," | ",this.props.track.album)),this.renderAction())}}]),t}(r.a.Component)),b=(a(22),function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=[];return this.props.searchResults&&this.props.searchResults.map(function(a){t.push(r.a.createElement(k,{track:a,onAdd:e.props.onAdd,key:a.id,name:a.name,album:a.album,artist:a.artist,onRemove:e.props.onRemove,isRemoval:e.props.isRemoval}))}),r.a.createElement("div",{className:"TrackList"},t.map(function(e,t){return r.a.createElement("div",{key:e.key+t},e)}))}}]),t}(r.a.Component)),y=(a(23),function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"SearchResults"},r.a.createElement("h2",null,"Results"),r.a.createElement(b,{onAdd:this.props.onAdd,searchResults:this.props.searchResults,isRemoval:!1}))}}]),t}(r.a.Component)),O=(a(24),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).handleNameChange=a.handleNameChange.bind(Object(f.a)(Object(f.a)(a))),a}return Object(d.a)(t,e),Object(h.a)(t,[{key:"handleNameChange",value:function(e){this.props.onNameChange(e.target.value)}},{key:"render",value:function(){return r.a.createElement("div",{className:"Playlist"},r.a.createElement("input",{onChange:this.handleNameChange,value:this.props.playlistName}),r.a.createElement(b,{searchResults:this.props.playlistTracks,onRemove:this.props.onRemove,isRemoval:!0}),r.a.createElement("a",{onClick:this.props.onSave,className:"Playlist-save"},"SAVE TO SPOTIFY"))}}]),t}(r.a.Component)),j="",T="",E={getAccessToken:function(){if(j)return j;var e=document.location.href;return j=e.match(/access_token=([^&]+)/)?e.match(/access_token=([^&]+)/)[1]:"",T=e.match(/expires_in=([^&]+)/)?e.match(/expires_in=([^&]+)/)[1]:"",j&&T?(window.setTimeout(function(){return j=""},1e5*T),window.history.pushState("Access Token",null,"/")):window.location.href="https://accounts.spotify.com/authorize?client_id=".concat("d04611563d9e41f481bdcc0d7449f260","&response_type=token&scope=playlist-modify-public&redirect_uri=").concat("http://localhost:3000/"),j},search:function(){var e=Object(l.a)(o.a.mark(function e(t){var a,n,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.getAccessToken(),a=[],e.next=5,fetch("https://api.spotify.com/v1/search?type=track&q=".concat(t),{headers:{Authorization:"Bearer ".concat(j)}});case 5:if(!(n=e.sent).ok){e.next=13;break}return e.next=9,n.json();case 9:return r=e.sent,console.log(r),r.tracks.items.length>0&&r.tracks.items.map(function(e){a.push({id:e.id,name:e.name,artist:e.artists[0].name,album:e.album.name,uri:e.uri})}),e.abrupt("return",a);case 13:throw new Error("Could not search spotify");case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}},e,this,[[0,16]])}));return function(t){return e.apply(this,arguments)}}(),savePlaylist:function(){var e=Object(l.a)(o.a.mark(function e(t,a){var n,r,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&a){e.next=2;break}return e.abrupt("return");case 2:return n={Authorization:"Bearer ".concat(j),"Content-Type":"application/json"},e.prev=4,r="",s="",e.next=9,fetch("https://api.spotify.com/v1/me",{headers:n}).then(function(){var e=Object(l.a)(o.a.mark(function e(c){var i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.ok){e.next=7;break}return e.next=3,c.json();case 3:return i=e.sent,r=i.id,e.next=7,fetch("https://api.spotify.com/v1/users/".concat(r,"/playlists"),{headers:n,method:"POST",body:JSON.stringify({name:t})}).then(function(){var e=Object(l.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=6;break}return e.next=3,t.json();case 3:return a=e.sent,s=a.id,e.abrupt("return",s);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).then(function(){var e=Object(l.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.spotify.com/v1/users/".concat(r,"/playlists/").concat(t,"/tracks"),{headers:n,method:"POST",body:JSON.stringify({uris:a})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).then(function(){var e=Object(l.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=5;break}return e.next=3,t.json();case 3:a=e.sent,console.log(a);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.log(e.t0);case 14:case"end":return e.stop()}},e,null,[[4,11]])}));return function(t,a){return e.apply(this,arguments)}}()},w=(a(25),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).state={playlistName:"New playlist",playlistTracks:[{album:"L'amour En France",artist:"Alain Chamfort",id:"5aFLrbiRTEaZuueEHNnhIZ",name:"Madona",uri:"spotify:track:5aFLrbiRTEaZuueEHNnhIZ"}],searchResults:[{album:"Recovery",artist:"Eminem",id:"15JINEqzVMv3SvJTAXAKED",name:"Love The Way You Lie",uri:"spotify:track:15JINEqzVMv3SvJTAXAKED"},{album:"Curtain Call",artist:"Eminem",id:"1dWimOlV5KUHDerWZVDv5l",name:"My Name Is",uri:"spotify:track:1dWimOlV5KUHDerWZVDv5l"}]},a.addTrack=a.addTrack.bind(Object(f.a)(Object(f.a)(a))),a.removeTrack=a.removeTrack.bind(Object(f.a)(Object(f.a)(a))),a.updatePlaylistName=a.updatePlaylistName.bind(Object(f.a)(Object(f.a)(a))),a.savePlaylist=a.savePlaylist.bind(Object(f.a)(Object(f.a)(a))),a.search=a.search.bind(Object(f.a)(Object(f.a)(a))),a}return Object(d.a)(t,e),Object(h.a)(t,[{key:"addTrack",value:function(e){if(!this.state.playlistTracks.filter(function(t){return t.id===e.id}).length){var t=this.state.playlistTracks;t.push(e),this.setState({playlistTracks:t})}}},{key:"removeTrack",value:function(e){if(this.state.playlistTracks.filter(function(t){return t.id===e.id}).length){var t=this.state.playlistTracks;delete t[this.state.playlistTracks.indexOf(e)],this.setState({playlistTracks:t})}}},{key:"updatePlaylistName",value:function(e){this.setState({playlistName:e})}},{key:"savePlaylist",value:function(){var e=Object(l.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.playlistTracks.map(function(e){return e.uri}).flat(),e.next=3,E.savePlaylist(this.state.playlistName,t);case 3:this.updatePlaylistName("New Playlist"),this.setState({playlistTracks:[]});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(l.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.search(t);case 2:a=e.sent,this.setState({searchResults:a});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Ja",r.a.createElement("span",{className:"highlight"},"mmm"),"ing"),r.a.createElement("div",{className:"App"},r.a.createElement(v,{onSearch:this.search}),r.a.createElement("div",{className:"App-playlist"},r.a.createElement(y,{onAdd:this.addTrack,searchResults:this.state.searchResults}),r.a.createElement(O,{onSave:this.savePlaylist,onNameChange:this.updatePlaylistName,onRemove:this.removeTrack,playlistTracks:this.state.playlistTracks,playlistName:this.state.playlistName}))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[11,1,2]]]);
//# sourceMappingURL=main.718525d2.chunk.js.map